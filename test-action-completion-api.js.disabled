/**
 * Simple test to verify the action completion API endpoint
 */

const testActionCompletion = async () => {
  try {
    // Test the complete action endpoint
    const response = await fetch('/api/ai/assistant/actions/123/complete', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
    });

    const data = await response.json();

    console.log('Action completion test result:', {
      status: response.status,
      success: data.success,
      message: data.message,
      actionId: data.actionId,
      error: data.error
    });

    // Expected result for non-existent action
    if (response.status === 404 && data.error === 'Action not found') {
      console.log('✅ API endpoint working correctly - returns 404 for non-existent action');
    } else if (response.status === 401 && data.error === 'Not authenticated') {
      console.log('✅ API endpoint working correctly - requires authentication');
    } else {
      console.log('⚠️ Unexpected response:', data);
    }

  } catch (error) {
    console.error('❌ Test failed:', error.message);
  }
};

// Run the test
testActionCompletion();